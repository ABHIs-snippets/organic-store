<div class="px-16">
  <div class="w-4/5 border-2 rounded p-4 m-auto">
    <h3 class="text-lg font-semibold inline-block border-b-2 pb-3 pr-4">
      Profile Detail
    </h3>

    <div class="flex mt-4 flex-wrap -mx-2">
      <div class="w-1/2 p-2">
        <input
          type="text"
          placeholder="Fisrt Name"
          class="p-2 border-2 outline-none w-full text-slate-500 focus:border-slate-400"
        />
      </div>
      <div class="w-1/2 p-2">
        <input
          type="text"
          placeholder="Last Name"
          class="p-2 border-2 outline-none w-full focus:border-slate-400"
        />
      </div>
      <div class="w-1/2 p-2">
        <input
          type="text"
          placeholder="Email"
          class="p-2 border-2 outline-none w-full focus:border-slate-400"
        />
      </div>
      <div class="w-1/2 p-2">
        <input
          type="text"
          placeholder="Phone number"
          class="p-2 border-2 outline-none w-full focus:border-slate-400"
        />
      </div>
    </div>

    <h3 class="text-lg font-semibold inline-block border-b-2 pb-3 pr-4">
      Addresses
    </h3>
    <div class="flex mt-4 flex-wrap -mx-4">
      <div class="w-1/3 p-4" *ngFor="let address of addresses; index as i">
        <div
          class="bg-slate-800 rounded p-4 text-zinc-300 flex justify-between"
        >
          <div class="text-sm leading-relaxed">
            <div class="flex items-center mb-2">
              <input
                type="radio"
                class="mr-1"
                name="address"
                id=""
                [checked]="address.isShippingAddress"
                (change)="updateDefault(address._id)"
              />
              <label for="" class="font-semibold">
                {{ address.addressType }}
              </label>
            </div>
            <p>{{ address.name }}</p>
            <p>{{ address.pinCode }}, {{ address.locality }}</p>
            <p *ngIf="address.landmark">{{ address.landmark }}</p>
            <p>{{ address.areaAndStreet }}</p>
            <p>{{ address.city }}, {{ address.state }}</p>
            <p>{{ address.phone }}</p>
          </div>
          <div class="text-right flex flex-col justify-between">
            <div>
              <div *ngIf="address.isShippingAddress">
                <i class="fa fa-check" aria-hidden="true"></i> Default
              </div>
            </div>
            <div>
              <div class="mb-2">
                <icon-button (click)="editForm(i)">
                  <i class="fa fa-pencil" aria-hidden="true"></i>
                </icon-button>
              </div>
              <div>
                <icon-button (click)="deleteAddress(address._id)">
                  <i class="fa fa-trash" aria-hidden="true"></i>
                </icon-button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="w-1/3 p-4">
        <div
          class="border-2 border-dashed flex items-center justify-center h-full rounded py-4"
        >
          <icon-button (click)="addAddressForm()">
            &nbsp;
            <i class="fa fa-plus" aria-hidden="true"></i>
            Add New address &nbsp;
          </icon-button>
        </div>
      </div>
    </div>

    <div class="border-2 p-2" *ngIf="showAddressForm">
      <h3>{{ isEdit ? "Edit Address" : "Add New Address" }}</h3>
      <form [formGroup]="addressEditForm">
        <div class="flex mt-4 flex-wrap -mx-2">
          <div class="w-1/2 p-2">
            <input
              type="text"
              placeholder="Name"
              formControlName="name"
              class="p-2 border-2 outline-none w-full text-slate-500 focus:border-slate-400"
            />
          </div>
          <div class="w-1/2 p-2">
            <input
              type="text"
              placeholder="Address Type"
              formControlName="addressType"
              class="p-2 border-2 outline-none w-full text-slate-500 focus:border-slate-400"
            />
          </div>
          <div class="w-1/2 p-2">
            <input
              type="text"
              placeholder="Phone number"
              formControlName="phone"
              class="p-2 border-2 outline-none w-full text-slate-500 focus:border-slate-400"
            />
          </div>
          <div class="w-1/2 p-2">
            <input
              type="text"
              placeholder="Alternate Number (Optional)"
              formControlName="alternativePhone"
              class="p-2 border-2 outline-none w-full text-slate-500 focus:border-slate-400"
            />
          </div>
          <div class="w-1/2 p-2">
            <input
              type="text"
              placeholder="pin Code"
              formControlName="pinCode"
              class="p-2 border-2 outline-none w-full text-slate-500 focus:border-slate-400"
            />
          </div>
          <div class="w-1/2 p-2">
            <input
              type="text"
              placeholder="locality"
              formControlName="locality"
              class="p-2 border-2 outline-none w-full text-slate-500 focus:border-slate-400"
            />
          </div>
          <div class="w-1/2 p-2">
            <input
              type="text"
              placeholder="Area"
              formControlName="areaAndStreet"
              class="p-2 border-2 outline-none w-full text-slate-500 focus:border-slate-400"
            />
          </div>
          <div class="w-1/2 p-2">
            <input
              type="text"
              placeholder="landmark"
              formControlName="landmark"
              class="p-2 border-2 outline-none w-full text-slate-500 focus:border-slate-400"
            />
          </div>
          <div class="w-1/2 p-2">
            <input
              type="text"
              placeholder="city"
              formControlName="city"
              class="p-2 border-2 outline-none w-full text-slate-500 focus:border-slate-400"
            />
          </div>
          <div class="w-1/2 p-2">
            <input
              type="text"
              placeholder="state"
              formControlName="state"
              class="p-2 border-2 outline-none w-full text-slate-500 focus:border-slate-400"
            />
          </div>
        </div>
        <div class="flex justify-end">
          <primary-button (click)="showAddressForm = false; isEdit = false">
            cancel</primary-button
          >
          <primary-button (click)="saveAddress()"> Save</primary-button>
        </div>
      </form>
    </div>
  </div>
</div>
